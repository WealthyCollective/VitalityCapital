
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Noor — Islamic Learning App</title>
<link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{
--bg:#EDEAE3;--card:#fff;--ink:#1C1B1F;--mute:#8A8490;--faint:#F4F2EE;--border:#E8E4DC;
--green:#4A9E8A;--green-l:#EAF4F1;--green-d:#2D7A68;
--amber:#C47D3A;--amber-l:#FAF0E6;--amber-d:#9E5E20;
--slate:#5578A6;--slate-l:#EBF0F7;--slate-d:#3A5A87;
--rose:#B85B6A;--rose-l:#F7EAED;--rose-d:#8F3D4C;
--sage:#7A9E6B;--sage-l:#EDF4EA;--sage-d:#5A7A4E;
--plum:#7E6AAE;--plum-l:#EEE9F7;--plum-d:#5C4A8C;
}
body{font-family:'DM Sans',sans-serif;background:var(--bg);color:var(--ink);height:100vh;overflow:hidden;display:flex}
.cap{font-size:10px;font-weight:700;letter-spacing:.12em;color:var(--mute);text-transform:uppercase}
.h1{font-size:26px;font-weight:800;line-height:1.15;letter-spacing:-.02em}
.h2{font-size:20px;font-weight:800;line-height:1.2}
.h3{font-size:15px;font-weight:700}
.body-t{font-size:13px;font-weight:500;color:var(--mute);line-height:1.55}
.sm{font-size:11px;font-weight:500;color:var(--mute)}
.card{background:var(--card);border-radius:20px;box-shadow:0 1px 3px rgba(0,0,0,.07),0 4px 12px rgba(0,0,0,.04)}
.pill{display:inline-flex;align-items:center;border-radius:100px;padding:4px 10px}
.pill span{font-size:9px;font-weight:700;letter-spacing:.12em;text-transform:uppercase}
.bar{height:3px;background:var(--border);border-radius:3px;overflow:hidden}
.bar>div{height:100%;border-radius:3px;transition:width .3s}

/* Sidebar */
#sidebar{width:210px;background:#fff;border-right:1px solid var(--border);height:100vh;overflow-y:auto;flex-shrink:0;display:flex;flex-direction:column;transition:transform .3s}
#sidebar .logo{padding:22px 16px 14px}
#sidebar .logo h1{font-size:15px;font-weight:800;letter-spacing:-.02em}
#sidebar .view-toggle{padding:4px 8px;display:flex;gap:4px;margin-bottom:8px}
#sidebar .view-toggle div{flex:1;text-align:center;padding:6px 4px;border-radius:8px;cursor:pointer;font-size:10px;font-weight:700;letter-spacing:.12em;text-transform:uppercase;color:var(--mute)}
#sidebar .view-toggle div.active{background:var(--faint);color:var(--ink)}
#sidebar .cat-label{padding:4px 16px;font-size:9px;font-weight:700;letter-spacing:.12em;text-transform:uppercase}
#sidebar .nav-item{padding:8px 16px;cursor:pointer;border-left:2.5px solid transparent;transition:all .15s}
#sidebar .nav-item:hover{background:rgba(0,0,0,.02)}
#sidebar .nav-item.active{border-left-color:var(--accent-color)}
#sidebar .nav-item span{font-size:11px;font-weight:500;color:var(--mute)}
#sidebar .nav-item.active span{font-weight:700;color:var(--ink)}

/* Main content */
#main{flex:1;overflow-y:auto;padding:32px}
#main.gallery-view .gallery-header{margin-bottom:28px}
.gallery-grid{display:flex;gap:20px;flex-wrap:wrap;margin-bottom:40px}
.gallery-item{cursor:pointer;transition:transform .2s}
.gallery-item:hover{transform:translateY(-4px)}

/* Phone frame */
.phone{background:#1C1C1E;border-radius:50px;padding:14px 12px;box-shadow:0 40px 80px rgba(0,0,0,.25);width:300px}
.phone .notch{height:12px;display:flex;align-items:center;justify-content:center;margin-bottom:4px}
.phone .notch div{width:90px;height:9px;background:#000;border-radius:9px}
.phone .screen-area{background:#fff;border-radius:38px;height:556px;overflow:hidden;overflow-y:auto}
.phone .bottom-label{height:20px;display:flex;align-items:center;justify-content:center;margin-top:4px}
.phone .bottom-label span{font-size:8px;font-weight:700;letter-spacing:.12em;color:rgba(255,255,255,.25);text-transform:uppercase}
.phone .home-bar{height:4px;display:flex;justify-content:center}
.phone .home-bar div{width:90px;height:4px;background:rgba(255,255,255,.2);border-radius:4px}

/* Mini phone */
.phone-mini{transform-origin:top left;transform:scale(.52);width:300px;pointer-events:none}
.phone-mini .screen-area{pointer-events:none}

/* Focus view */
.focus-center{display:flex;justify-content:center;align-items:flex-start;min-height:100%}
.focus-col{display:flex;flex-direction:column;align-items:center;gap:16px}
.focus-tabs{display:flex;gap:8px;flex-wrap:wrap;justify-content:center}
.focus-tabs div{padding:6px 12px;border-radius:20px;cursor:pointer;font-size:11px;font-weight:500;color:var(--mute);border:1px solid var(--border);background:var(--card);transition:all .15s}
.focus-tabs div.active{background:var(--ink);color:#fff;font-weight:700}
.focus-nav{display:flex;gap:10px}
.focus-nav div{padding:8px 18px;border-radius:12px;cursor:pointer;font-size:11px;font-weight:600}

/* Screen content shared */
.scr{padding:24px 18px;height:100%;overflow-y:auto;background:var(--bg)}
.scr .card{margin-bottom:10px}

/* Mobile menu button */
#menu-btn{display:none;position:fixed;top:16px;left:16px;z-index:1000;width:40px;height:40px;border-radius:12px;background:var(--card);box-shadow:0 2px 8px rgba(0,0,0,.12);border:none;cursor:pointer;align-items:center;justify-content:center}
#menu-btn svg{width:20px;height:20px}
#overlay{display:none;position:fixed;inset:0;background:rgba(0,0,0,.3);z-index:998}

/* Responsive */
@media(max-width:768px){
  #sidebar{position:fixed;left:0;top:0;z-index:999;transform:translateX(-100%)}
  #sidebar.open{transform:translateX(0)}
  #menu-btn{display:flex}
  #overlay.open{display:block}
  #main{padding:16px;padding-top:64px}
  .phone{width:100%;max-width:340px;border-radius:40px;padding:10px}
  .phone .screen-area{height:520px;border-radius:30px}
  .gallery-grid{gap:12px}
  .phone-mini{transform:scale(.42)}
}
@media(max-width:480px){
  #main{padding:12px;padding-top:60px}
  .phone{border-radius:36px;padding:8px}
  .phone .screen-area{height:480px;border-radius:28px}
  .phone-mini{transform:scale(.36)}
  .focus-tabs{gap:4px}
  .focus-tabs div{padding:4px 8px;font-size:10px}
}
</style>
</head>
<body>

<button id="menu-btn" onclick="toggleSidebar()"><svg viewBox="0 0 20 20" fill="none"><path d="M3 5h14M3 10h14M3 15h14" stroke="#1C1B1F" stroke-width="1.8" stroke-linecap="round"/></svg></button>
<div id="overlay" onclick="toggleSidebar()"></div>

<nav id="sidebar">
  <div class="logo"><h1>Noor</h1><div class="sm" style="font-size:10px">Islamic Learning App</div></div>
  <div class="view-toggle">
    <div id="vt-gallery" class="active" onclick="setView('gallery')">Gallery</div>
    <div id="vt-focus" onclick="setView('focus')">Focus</div>
  </div>
  <div id="nav-list"></div>
</nav>

<div id="main">
  <div id="content"></div>
</div>

<script>
const C={bg:"#EDEAE3",card:"#fff",ink:"#1C1B1F",mute:"#8A8490",faint:"#F4F2EE",border:"#E8E4DC",
green:{b:"#4A9E8A",l:"#EAF4F1",d:"#2D7A68"},amber:{b:"#C47D3A",l:"#FAF0E6",d:"#9E5E20"},
slate:{b:"#5578A6",l:"#EBF0F7",d:"#3A5A87"},rose:{b:"#B85B6A",l:"#F7EAED",d:"#8F3D4C"},
sage:{b:"#7A9E6B",l:"#EDF4EA",d:"#5A7A4E"},plum:{b:"#7E6AAE",l:"#EEE9F7",d:"#5C4A8C"}};

const CC={MAIN:C.amber,ARABIC:C.green,QURAN:C.plum,ARTS:C.slate,STORIES:C.rose,DISCOVER:C.sage,GAMES:C.rose,PROFILE:C.slate};

let state={active:"home",view:"gallery",quizSel:null,vocabIdx:0,vocabFlip:false,geoStep:2,
  letterSel:1,wordLetters:[],memoShown:[],storyPage:0,versesel:0,drawn:[],settings:{notif:true,sound:true,arabic:true}};

function bar(pct,color,h=3){return `<div class="bar" style="height:${h}px"><div style="width:${pct}%;background:${color}"></div></div>`}
function pill(label,color){return `<div class="pill" style="background:${color.l}"><span style="color:${color.b}">${label}</span></div>`}
function card(content,style=""){return `<div class="card" style="${style}">${content}</div>`}

const SCREENS=[
{id:"home",label:"Home",cat:"MAIN",bot:"HOME · DASHBOARD",render:renderHome},
{id:"letter-recognition",label:"Letter Recognition",cat:"ARABIC",bot:"ARABIC · AI-ADAPTIVE",render:renderLetterRecog},
{id:"letter-practice",label:"Letter Practice",cat:"ARABIC",bot:"ARABIC · TRACING",render:renderLetterPractice},
{id:"vocabulary",label:"Vocabulary",cat:"ARABIC",bot:"ARABIC · VOCABULARY",render:renderVocab},
{id:"word-builder",label:"Word Builder",cat:"ARABIC",bot:"ARABIC · WORDS",render:renderWordBuilder},
{id:"quran-journey",label:"Quran Journey",cat:"QURAN",bot:"QURAN · JOURNEY",render:renderQuranJourney},
{id:"verse-by-verse",label:"Verse by Verse",cat:"QURAN",bot:"QURAN · MEMORISE",render:renderVerseByVerse},
{id:"tajweed",label:"Tajweed Rules",cat:"QURAN",bot:"QURAN · TAJWEED",render:renderTajweed},
{id:"memorise",label:"Memorise Mode",cat:"QURAN",bot:"QURAN · MEMORISE",render:renderMemorise},
{id:"duas",label:"Daily Duas",cat:"QURAN",bot:"QURAN · DUAS",render:renderDuas},
{id:"islamic-arts",label:"Islamic Arts",cat:"ARTS",bot:"ARTS · DISCOVERY",render:renderIslamicArts},
{id:"geometry",label:"Geometric Art",cat:"ARTS",bot:"ARTS · GEOMETRY",render:renderGeometry},
{id:"prophet-stories",label:"Prophets",cat:"STORIES",bot:"STORIES · PROPHETS",render:renderProphetStories},
{id:"story-reader",label:"Story Reader",cat:"STORIES",bot:"STORIES · READING",render:renderStoryReader},
{id:"values",label:"Good Character",cat:"STORIES",bot:"STORIES · VALUES",render:renderValues},
{id:"seerah",label:"Seerah Timeline",cat:"STORIES",bot:"STORIES · SEERAH",render:renderSeerah},
{id:"99-names",label:"99 Names",cat:"DISCOVER",bot:"DISCOVER · NAMES",render:renderNinetyNineNames},
{id:"prayer-times",label:"Prayer Times",cat:"DISCOVER",bot:"DISCOVER · PRAYER",render:renderPrayerTimes},
{id:"hadith",label:"Hadith of the Day",cat:"DISCOVER",bot:"DISCOVER · HADITH",render:renderHadith},
{id:"quiz-home",label:"Quiz Arena",cat:"GAMES",bot:"GAMES · QUIZ",render:renderQuizHome},
{id:"quiz-play",label:"Quiz Playing",cat:"GAMES",bot:"GAMES · PLAYING",render:renderQuizPlay},
{id:"leaderboard",label:"Leaderboard",cat:"GAMES",bot:"GAMES · RANKINGS",render:renderLeaderboard},
{id:"achievements",label:"Achievements",cat:"PROFILE",bot:"PROFILE · BADGES",render:renderAchievements},
{id:"profile",label:"My Profile",cat:"PROFILE",bot:"PROFILE · MAIN",render:renderProfile},
{id:"streaks",label:"Streaks & Goals",cat:"PROFILE",bot:"PROFILE · STREAKS",render:renderStreaks},
{id:"settings",label:"Settings",cat:"PROFILE",bot:"PROFILE · SETTINGS",render:renderSettings},
];

const CATS=[...new Set(SCREENS.map(s=>s.cat))];

function buildNav(){
  let h="";
  CATS.forEach(cat=>{
    const cc=CC[cat];
    h+=`<div class="cat-label" style="color:${cc.b}">${cat}</div>`;
    SCREENS.filter(s=>s.cat===cat).forEach(s=>{
      h+=`<div class="nav-item ${state.active===s.id?"active":""}" style="${state.active===s.id?`background:${cc.b}12;border-left-color:${cc.b}`:""}" onclick="go('${s.id}')"><span>${s.label}</span></div>`;
    });
  });
  document.getElementById("nav-list").innerHTML=h;
}

function phone(scr,mini=false){
  return `<div class="phone ${mini?"phone-mini":""}">
    <div class="notch"><div></div></div>
    <div class="screen-area">${scr.render()}</div>
    <div class="bottom-label"><span>${scr.bot}</span></div>
    <div class="home-bar"><div></div></div></div>`;
}

function renderMain(){
  const el=document.getElementById("content");
  if(state.view==="gallery"){
    let h=`<div class="gallery-header"><div class="cap" style="margin-bottom:6px">Screen showcase</div><div style="font-size:28px;font-weight:800;letter-spacing:-.02em">${SCREENS.length} Screens</div></div>`;
    CATS.forEach(cat=>{
      const cc=CC[cat];
      h+=`<div style="margin-bottom:40px"><div style="display:flex;align-items:center;gap:10px;margin-bottom:20px"><div style="width:8px;height:8px;border-radius:50%;background:${cc.b}"></div><div class="cap" style="color:${cc.b}">${cat}</div></div><div class="gallery-grid">`;
      SCREENS.filter(s=>s.cat===cat).forEach(s=>{
        h+=`<div class="gallery-item" onclick="go('${s.id}')"><div style="height:310px;overflow:hidden">${phone(s,true)}</div><div style="width:156px;margin-top:8px"><div class="sm" style="font-weight:600;font-size:11px;color:${C.ink}">${s.label}</div></div></div>`;
      });
      h+=`</div></div>`;
    });
    el.innerHTML=h;
  } else {
    const scr=SCREENS.find(s=>s.id===state.active);
    const cc=CC[scr.cat];
    const siblings=SCREENS.filter(s=>s.cat===scr.cat);
    let tabs=siblings.map(s=>`<div class="${state.active===s.id?"active":""}" onclick="go('${s.id}')">${s.label}</div>`).join("");
    const idx=SCREENS.findIndex(s=>s.id===state.active);
    el.innerHTML=`<div class="focus-center"><div class="focus-col">
      <div style="display:flex;gap:12px;align-items:center">${pill(scr.cat,cc)}<div class="h3" style="font-size:16px">${scr.label}</div></div>
      ${phone(scr)}
      <div class="focus-tabs">${tabs}</div>
      <div class="focus-nav">
        <div style="background:var(--card);border:1px solid var(--border)" onclick="goPrev()">← Prev</div>
        <div style="background:var(--ink);color:#fff" onclick="goNext()">Next →</div>
      </div>
    </div></div>`;
  }
}

function go(id){state.active=id;state.view="focus";closeSidebar();buildNav();renderMain();updateViewToggle()}
function goPrev(){const i=SCREENS.findIndex(s=>s.id===state.active);if(i>0){state.active=SCREENS[i-1].id;buildNav();renderMain()}}
function goNext(){const i=SCREENS.findIndex(s=>s.id===state.active);if(i<SCREENS.length-1){state.active=SCREENS[i+1].id;buildNav();renderMain()}}
function setView(v){state.view=v;updateViewToggle();renderMain()}
function updateViewToggle(){document.getElementById("vt-gallery").className=state.view==="gallery"?"active":"";document.getElementById("vt-focus").className=state.view==="focus"?"active":""}
function toggleSidebar(){document.getElementById("sidebar").classList.toggle("open");document.getElementById("overlay").classList.toggle("open")}
function closeSidebar(){document.getElementById("sidebar").classList.remove("open");document.getElementById("overlay").classList.remove("open")}

// ─── SCREEN RENDERERS ───────────────────────────────────────────────────

function renderHome(){
  const tasks=[{l:"Morning Dua",m:2,d:true},{l:"Arabic · Letter Daad",m:10,d:false},{l:"Quran · Al-Baqarah v1",m:8,d:false}];
  const items=[{l:"Arabic",s:"Letter ض",c:C.green,ic:"أ",p:68},{l:"Quran",s:"Al-Fatiha",c:C.plum,ic:"☾",p:100},{l:"Values",s:"Honesty Story",c:C.rose,ic:"◇",p:40},{l:"Quizzes",s:"3 new today",c:C.amber,ic:"○",p:25}];
  return `<div class="scr">
    <div style="margin-bottom:22px"><div class="cap" style="margin-bottom:5px">Good morning</div><div class="h1" style="font-size:28px">Ayah-Sophia ◑</div></div>
    ${card(`<div style="display:flex;align-items:center;justify-content:space-between">
      <div><div class="cap" style="color:${C.amber.d};margin-bottom:4px">Current streak</div><div class="h2" style="color:${C.amber.d}">14 days</div><div class="sm" style="color:${C.amber.b};margin-top:2px">Keep it up!</div></div>
      <div style="width:48px;height:48px;border-radius:16px;background:${C.amber.b};display:flex;align-items:center;justify-content:center"><svg width="22" height="22" viewBox="0 0 24 24" fill="none"><path d="M12 2C12 2 7 7.5 7 12.5C7 15.5 9.2 18 12 18s5-2.5 5-5.5C17 7.5 12 2 12 2z" fill="white" opacity=".9"/></svg></div>
    </div>`,`padding:16px 18px;background:${C.amber.l};box-shadow:none;border:1px solid ${C.amber.b}20;margin-bottom:14px`)}
    <div class="cap" style="margin-bottom:12px">Continue learning</div>
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:20px">
      ${items.map(i=>card(`<div style="width:32px;height:32px;border-radius:10px;background:${i.c.l};display:flex;align-items:center;justify-content:center;font-size:15px;color:${i.c.b};font-weight:800;margin-bottom:10px;font-family:serif">${i.ic}</div>
        <div class="h3" style="font-size:14px;margin-bottom:2px">${i.l}</div><div class="sm" style="margin-bottom:10px">${i.s}</div>${bar(i.p,i.c.b)}`,"padding:14px")).join("")}
    </div>
    <div class="cap" style="margin-bottom:12px">Today's plan</div>
    ${tasks.map(t=>card(`<div style="display:flex;align-items:center;gap:12px">
      <div style="width:22px;height:22px;border-radius:50%;border:2px solid ${t.d?C.green.b:C.border};background:${t.d?C.green.b:"transparent"};display:flex;align-items:center;justify-content:center;flex-shrink:0">${t.d?'<svg width="10" height="10" viewBox="0 0 10 10"><path d="M2 5.5L4.2 7.5L8 3" stroke="white" stroke-width="1.8" stroke-linecap="round" fill="none"/></svg>':""}</div>
      <div style="flex:1"><div class="h3" style="font-size:13px;${t.d?"color:var(--mute);text-decoration:line-through":""}">${t.l}</div></div>
      <div class="sm">${t.m} min</div></div>`,"padding:13px 15px;margin-bottom:8px")).join("")}
  </div>`;
}

function renderLetterRecog(){
  const opts=["ظ","ض","ص","ط"];
  return `<div class="scr" style="padding:20px 18px">
    <div style="display:flex;align-items:center;gap:8px;margin-bottom:20px"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M10 12L6 8L10 4" stroke="${C.mute}" stroke-width="1.8" stroke-linecap="round"/></svg><span class="sm">Arabic Island</span></div>
    <div class="h1" style="margin-bottom:4px">Letter Recognition</div><div class="sm" style="margin-bottom:20px">Lesson 7 of 28 · AI-adapted</div>
    ${card(`<div style="font-family:serif;font-size:86px;color:var(--ink);line-height:1;margin-bottom:12px">ض</div><div class="h3" style="margin-bottom:4px">Daad</div><div class="cap" style="color:${C.green.b}">ḍ</div>`,"padding:36px 20px;text-align:center;margin-bottom:20px")}
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:20px">
      ${opts.map((o,i)=>{
        const sel=i===1,correct=o==="ض";
        return card(`<div style="font-family:serif;font-size:32px;color:${sel?(correct?C.green.d:C.rose.d):C.ink}">${o}${sel&&correct?' <span style="font-size:14px">✓</span>':""}</div>`,
          `padding:20px;text-align:center;cursor:pointer;background:${sel?(correct?C.green.l:C.rose.l):C.card};border:1.5px solid ${sel?(correct?C.green.b:C.rose.b):"transparent"}`);
      }).join("")}
    </div>
    <div style="display:flex;align-items:center;gap:10px"><div class="cap" style="color:${C.amber.b}">+25 XP</div><div style="flex:1">${bar(58,C.amber.b,4)}</div><div class="sm">Level 3</div></div>
  </div>`;
}

function renderLetterPractice(){
  return `<div class="scr" style="padding:20px 18px">
    <div class="cap" style="margin-bottom:20px">Trace the letter</div>
    <div style="display:flex;justify-content:space-between;align-items:flex-end;margin-bottom:16px">
      <div><div class="h1" style="margin-bottom:4px">Ba · ب</div><div class="body-t">The second letter of the alphabet</div></div>
      ${pill("Step 1 of 3",C.plum)}
    </div>
    ${card(`<div style="font-family:serif;font-size:80px;color:var(--border);line-height:1.1;user-select:none">ب</div>`,"padding:20px;text-align:center;margin-bottom:14px")}
    <div style="background:var(--card);border-radius:20px;height:150px;border:1.5px dashed var(--border);margin-bottom:14px;display:flex;align-items:center;justify-content:center;box-shadow:0 1px 3px rgba(0,0,0,.06)"><div class="sm">Trace here</div></div>
    <div style="display:grid;grid-template-columns:1fr 2fr;gap:10px">
      ${card(`<div class="sm" style="color:${C.rose.b};font-weight:700">Clear</div>`,"padding:13px;text-align:center;cursor:pointer")}
      ${card(`<div style="font-size:12px;font-weight:700;color:#fff">Check my writing</div>`,`padding:13px;text-align:center;cursor:pointer;background:${C.plum.b}`)}
    </div>
  </div>`;
}

function renderVocab(){
  const words=[{ar:"بيت",tr:"Bayt",en:"House"},{ar:"كتاب",tr:"Kitaab",en:"Book"},{ar:"ماء",tr:"Maa'",en:"Water"},{ar:"شمس",tr:"Shams",en:"Sun"}];
  const w=words[0];
  return `<div class="scr" style="padding:20px 18px">
    <div class="h1" style="margin-bottom:4px">Vocabulary</div>
    <div style="display:flex;gap:4px;margin-bottom:20px">${words.map((_,i)=>`<div style="flex:1;height:3px;border-radius:3px;background:${i===0?C.green.b:C.border}"></div>`).join("")}</div>
    <div class="sm" style="text-align:center;margin-bottom:8px">Card 1 of ${words.length} · Tap to reveal</div>
    ${card(`<div style="font-family:serif;font-size:56px;color:var(--ink);margin-bottom:10px">${w.ar}</div><div class="cap" style="color:${C.green.b}">${w.tr}</div>`,"padding:44px 20px;text-align:center;cursor:pointer;margin-bottom:14px;min-height:190px;display:flex;flex-direction:column;align-items:center;justify-content:center")}
    <div style="display:grid;grid-template-columns:1fr 2fr;gap:10px">
      ${card(`<div class="sm" style="font-weight:700">← Prev</div>`,"padding:13px;text-align:center;cursor:pointer")}
      ${card(`<div style="font-size:12px;font-weight:700;color:#fff">I know this · Next →</div>`,`padding:13px;text-align:center;cursor:pointer;background:${C.green.b}`)}
    </div>
  </div>`;
}

function renderWordBuilder(){
  const letters=["ب","ي","ت","ا","ك","ل","م","ن"];
  return `<div class="scr" style="padding:20px 18px">
    <div class="h1" style="margin-bottom:4px">Word Builder</div><div class="body-t" style="margin-bottom:20px">Spell "Bayt" — بيت — House</div>
    ${card(`<div style="font-family:serif;font-size:44px;color:${C.amber.d};margin-bottom:6px">بيت</div><div class="sm">Bayt · House</div>`,"padding:24px;text-align:center;margin-bottom:14px")}
    <div style="background:var(--faint);border-radius:16px;min-height:60px;padding:12px 14px;margin-bottom:14px;display:flex;align-items:center;gap:8px;border:1.5px dashed var(--border)"><div class="sm" style="margin:0 auto">Tap letters below</div></div>
    <div style="display:flex;flex-wrap:wrap;gap:8px;margin-bottom:14px">${letters.map(l=>`<div style="width:48px;height:48px;border-radius:14px;background:var(--card);display:flex;align-items:center;justify-content:center;font-family:serif;font-size:26px;cursor:pointer;box-shadow:0 1px 4px rgba(0,0,0,.08)">${l}</div>`).join("")}</div>
    <div class="sm" style="text-align:center;color:${C.rose.b};font-weight:700;cursor:pointer">Clear</div>
  </div>`;
}

function renderQuranJourney(){
  const surahs=[{n:"001",name:"Al-Fatiha",ar:"الفاتحة",p:100},{n:"112",name:"Al-Ikhlas",ar:"الإخلاص",p:75},{n:"113",name:"Al-Falaq",ar:"الفلق",p:40},{n:"114",name:"An-Nas",ar:"الناس",p:15},{n:"002",name:"Al-Baqarah",ar:"البقرة",p:4}];
  return `<div class="scr" style="padding:20px 18px">
    <div class="cap" style="margin-bottom:6px">Surah 001</div><div class="h1" style="margin-bottom:2px">Al-Fatiha</div>
    <div style="font-family:serif;font-size:22px;color:${C.plum.b};margin-bottom:20px">الفاتحة</div>
    ${card(`<div style="font-family:serif;font-size:22px;text-align:right;line-height:2;margin-bottom:14px">بِسْمِ اللَّهِ الرَّحْمَٰنِ الرَّحِيمِ</div>
      <div class="body-t">In the name of Allah, the Entirely Merciful, the Especially Merciful.</div>
      <div style="border-top:1px solid var(--border);margin-top:14px;padding-top:14px;display:flex;justify-content:center;gap:24px">
        ${["⏮","▶","⏭"].map((c,i)=>`<div style="width:${i===1?48:36}px;height:${i===1?48:36}px;border-radius:50%;background:${i===1?C.plum.b:C.faint};display:flex;align-items:center;justify-content:center;cursor:pointer;color:${i===1?"#fff":C.mute};font-size:${i===1?18:14}px;margin-top:${i===1?0:6}px">${c}</div>`).join("")}
      </div>`,"padding:20px 18px;margin-bottom:20px")}
    <div class="cap" style="margin-bottom:12px">My surahs</div>
    ${surahs.map(s=>card(`<div style="display:flex;align-items:center;gap:14px">
      <div style="width:36px;height:36px;border-radius:10px;background:${s.p===100?C.green.l:C.faint};display:flex;align-items:center;justify-content:center;font-size:10px;font-weight:700;color:${s.p===100?C.green.b:C.mute}">${s.n}</div>
      <div style="flex:1"><div class="h3" style="font-size:13px;margin-bottom:2px">${s.name}</div>${bar(s.p,s.p===100?C.green.b:C.plum.b)}</div>
      <div class="sm" style="color:${s.p===100?C.green.b:C.mute};font-weight:${s.p===100?700:500}">${s.p===100?"✓":s.p+"%"}</div>
    </div>`,"padding:13px 15px;margin-bottom:8px")).join("")}
  </div>`;
}

function renderVerseByVerse(){
  const vs=[{ar:"بِسْمِ اللَّهِ الرَّحْمَٰنِ الرَّحِيمِ",en:"In the name of Allah, the Entirely Merciful, the Especially Merciful."},{ar:"الْحَمْدُ لِلَّهِ رَبِّ الْعَالَمِينَ",en:"All praise is due to Allah, Lord of the worlds."},{ar:"الرَّحْمَٰنِ الرَّحِيمِ",en:"The Entirely Merciful, the Especially Merciful."},{ar:"مَالِكِ يَوْمِ الدِّينِ",en:"Sovereign of the Day of Recompense."}];
  return `<div class="scr" style="padding:20px 18px">
    <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:20px"><div><div class="cap" style="margin-bottom:4px">Al-Fatiha · Verse by verse</div><div class="h2">Verse 1 of ${vs.length}</div></div>${pill("Memorise mode",C.plum)}</div>
    ${vs.map((v,i)=>card(`<div style="text-align:right;font-family:serif;font-size:20px;color:${i===0?"#fff":C.ink};line-height:1.9;margin-bottom:10px">${v.ar}</div>
      <div class="body-t" style="color:${i===0?"rgba(255,255,255,.55)":C.mute};font-size:12px">${v.en}</div>`,
      `padding:18px;margin-bottom:10px;cursor:pointer;background:${i===0?C.ink:C.card}`)).join("")}
  </div>`;
}

function renderTajweed(){
  const rules=[{name:"Ghunnah",ar:"غنة",desc:"Nasalisation of Noon & Meem with 2 counts",c:C.rose},{name:"Madd",ar:"مد",desc:"Elongation of vowels — 2, 4, or 6 counts",c:C.plum},{name:"Ikhfa",ar:"إخفاء",desc:"Hiding of Noon Sakinah before 15 letters",c:C.green},{name:"Idgham",ar:"إدغام",desc:"Merging Noon Sakinah into the next letter",c:C.amber}];
  return `<div class="scr" style="padding:20px 18px">
    <div class="cap" style="margin-bottom:6px">Quran · Tajweed</div><div class="h1" style="margin-bottom:4px">Tajweed Rules</div><div class="body-t" style="margin-bottom:20px">The science of beautiful recitation</div>
    ${rules.map(r=>card(`<div style="display:flex;align-items:flex-start;gap:14px">
      <div style="width:44px;height:44px;border-radius:14px;background:${r.c.l};display:flex;align-items:center;justify-content:center;font-family:serif;font-size:20px;color:${r.c.b};flex-shrink:0">${r.ar}</div>
      <div style="flex:1"><div class="h3" style="font-size:14px;margin-bottom:4px">${r.name} <span style="font-family:serif;font-weight:400;color:${r.c.b}">${r.ar}</span></div><div class="body-t" style="font-size:12px">${r.desc}</div></div></div>
      <div style="border-top:1px solid var(--border);margin-top:12px;padding-top:10px;display:flex;gap:8px">
        <div style="flex:1;background:${r.c.l};border-radius:10px;padding:8px;text-align:center;font-size:11px;font-weight:700;color:${r.c.b};cursor:pointer">Listen</div>
        <div style="flex:1;background:${r.c.l};border-radius:10px;padding:8px;text-align:center;font-size:11px;font-weight:700;color:${r.c.b};cursor:pointer">Practice</div>
      </div>`,"padding:16px 18px;margin-bottom:10px")).join("")}
  </div>`;
}

function renderMemorise(){
  const segs=["بِسْمِ","اللَّهِ","الرَّحْمَٰنِ","الرَّحِيمِ"];
  return `<div class="scr" style="padding:20px 18px">
    <div class="cap" style="margin-bottom:6px">Memorise mode</div><div class="h1" style="margin-bottom:4px">Word by Word</div><div class="body-t" style="margin-bottom:20px">Tap each word to reveal it</div>
    ${card(`<div style="display:flex;flex-wrap:wrap;justify-content:center;gap:10px;direction:rtl;margin-bottom:16px">
      ${segs.map(w=>`<div style="background:var(--border);border-radius:12px;padding:10px 16px;font-family:serif;font-size:20px;color:transparent;cursor:pointer;min-width:60px;text-align:center;border:1.5px solid var(--border)">${w}</div>`).join("")}
    </div><div class="sm" style="text-align:center">0 of ${segs.length} revealed</div>`,"padding:28px 20px;margin-bottom:14px")}
    ${card(`<div class="cap" style="margin-bottom:8px">Translation</div><div class="body-t">In the name of Allah, the Entirely Merciful, the Especially Merciful.</div>`,"padding:14px 16px;margin-bottom:14px")}
    <div style="display:grid;grid-template-columns:1fr 2fr;gap:10px">
      ${card(`<div class="sm" style="font-weight:700">Reset</div>`,"padding:13px;text-align:center;cursor:pointer")}
      ${card(`<div style="font-size:12px;font-weight:700;color:#fff">Reveal all</div>`,`padding:13px;text-align:center;cursor:pointer;background:${C.amber.b}`)}
    </div>
  </div>`;
}

function renderDuas(){
  const duas=[{name:"Before eating",ar:"بِسْمِ اللَّهِ",tr:"Bismillah",done:true,c:C.green},{name:"Before sleeping",ar:"بِاسْمِكَ اللَّهُمَّ",tr:"Bismika allahumma...",done:true,c:C.slate},{name:"After waking",ar:"الْحَمْدُ لِلَّهِ",tr:"Alhamdulillah...",done:false,c:C.amber},{name:"Entering home",ar:"اللَّهُمَّ إِنِّي أَسْأَلُكَ",tr:"Allahumma inni as'aluk...",done:false,c:C.plum}];
  return `<div class="scr" style="padding:20px 18px">
    <div class="cap" style="margin-bottom:6px">Daily supplications</div><div class="h1" style="margin-bottom:4px">Duas</div><div class="body-t" style="margin-bottom:20px">2 of 10 learned</div>
    ${duas.map(d=>card(`<div class="cap" style="color:${d.c.b};margin-bottom:8px">${d.name.toUpperCase()}</div>
      <div style="font-family:serif;font-size:22px;color:${d.c.d};text-align:right;margin-bottom:6px;line-height:1.8">${d.ar}</div>
      <div class="body-t" style="margin-bottom:10px">${d.tr}</div>
      <div style="display:flex;align-items:center;justify-content:space-between">
        <div class="sm" style="color:${d.c.b};font-weight:700;cursor:pointer">Listen</div>
        <div style="width:24px;height:24px;border-radius:50%;background:${d.done?d.c.b:C.border};display:flex;align-items:center;justify-content:center">${d.done?'<svg width="10" height="10" viewBox="0 0 10 10"><path d="M2 5.5L4.2 7.5L8 3" stroke="white" stroke-width="1.8" stroke-linecap="round" fill="none"/></svg>':""}</div>
      </div>`,"padding:16px;margin-bottom:10px")).join("")}
  </div>`;
}

function renderIslamicArts(){
  const mods=[{cat:"GEOMETRIC ART",title:"Draw a Star",sub:"Islamic geometry lesson",c:C.green,step:"Step 2 of 5",p:40},{cat:"ARABESQUE",title:"Vine Patterns",sub:"Nature-inspired designs",c:C.amber,step:"Not started",p:0},{cat:"CALLIGRAPHY",title:"Bismillah",sub:"Thuluth style",c:C.plum,step:"Step 1 of 6",p:17},{cat:"ARCHITECTURE",title:"Muqarnas",sub:"Honeycomb vaulting",c:C.slate,step:"Completed",p:100}];
  return `<div class="scr" style="padding:20px 18px">
    <div class="cap" style="margin-bottom:6px">Visual learning</div><div class="h1" style="margin-bottom:4px">Islamic Arts</div><div class="sm" style="margin-bottom:20px">Explore · Create · Reflect</div>
    ${card(`<div class="cap" style="color:rgba(255,255,255,.4);margin-bottom:10px">Featured · Magnetism</div>
      <div style="display:flex;gap:20px;align-items:center"><div style="flex:1"><div style="font-size:15px;font-weight:700;color:#fff;line-height:1.4;margin-bottom:6px">How do millions move toward one centre?</div><div class="sm" style="color:rgba(255,255,255,.4)">Dr. Ahmed Mater · ATHR Gallery</div></div>
      <div style="width:60px;height:60px;border-radius:14px;background:rgba(255,255,255,.06);display:flex;align-items:center;justify-content:center"><svg viewBox="0 0 40 40" width="40" height="40">${[1,2,3,4].map(i=>`<circle cx="20" cy="20" r="${i*7}" fill="none" stroke="rgba(255,255,255,.15)" stroke-width="1"/>`).join("")}<circle cx="20" cy="20" r="3" fill="rgba(255,255,255,.6)"/></svg></div></div>`,`background:${C.ink};padding:20px 18px;margin-bottom:20px`)}
    ${mods.map(m=>card(`<div style="display:flex;align-items:center;gap:14px">
      <div style="width:42px;height:42px;border-radius:13px;background:${m.c.l};flex-shrink:0;display:flex;align-items:center;justify-content:center"><div class="cap" style="color:${m.c.b};font-size:8px">${m.cat.split(" ")[0]}</div></div>
      <div style="flex:1"><div class="cap" style="margin-bottom:3px">${m.cat}</div><div class="h3" style="font-size:14px;margin-bottom:3px">${m.title}</div><div class="sm">${m.sub}</div></div>
      <div style="text-align:right"><div class="sm" style="margin-bottom:4px">${m.step}</div>${bar(m.p,m.c.b)}</div></div>`,"padding:14px 16px;margin-bottom:10px")).join("")}
  </div>`;
}

function renderGeometry(){
  const steps=["Draw a circle","Mark 6 points","Connect points","Add inner lines","Colour & detail"];
  const step=2;
  let svgContent=`<defs><pattern id="g" width="20" height="20" patternUnits="userSpaceOnUse"><path d="M20 0L0 0 0 20" fill="none" stroke="${C.border}" stroke-width=".8"/></pattern></defs><rect width="240" height="200" fill="${C.faint}"/><rect width="240" height="200" fill="url(#g)"/>`;
  svgContent+=`<circle cx="120" cy="100" r="72" fill="none" stroke="${C.green.b}" stroke-width="1.5" stroke-dasharray="4,3" opacity=".6"/>`;
  [0,60,120,180,240,300].forEach(a=>{svgContent+=`<circle cx="${120+72*Math.cos(a*Math.PI/180)}" cy="${100+72*Math.sin(a*Math.PI/180)}" r="4" fill="${C.green.b}" opacity=".8"/>`});
  return `<div class="scr" style="padding:20px 18px">
    <div class="cap" style="margin-bottom:6px">Arts · Geometric</div><div class="h1" style="margin-bottom:4px">Six-Pointed Star</div>
    <div style="display:flex;gap:4px;margin-bottom:16px">${steps.map((_,i)=>`<div style="flex:1;height:3px;border-radius:3px;background:${i<step?C.green.b:C.border}"></div>`).join("")}</div>
    <div class="sm" style="margin-bottom:4px">Step ${step} of ${steps.length}</div><div class="h3" style="margin-bottom:16px">${steps[step-1]}</div>
    ${card(`<svg viewBox="0 0 240 200" width="100%" height="200" style="display:block">${svgContent}</svg>`,"padding:10px;margin-bottom:16px")}
    ${card(`<div class="body-t" style="color:${C.green.d};font-size:12px">Islamic geometry uses mathematical ratios found in nature. The six-pointed star represents the unity of heaven and earth.</div>`,`padding:14px 16px;margin-bottom:14px;background:${C.green.l};box-shadow:none`)}
    <div style="display:grid;grid-template-columns:1fr 2fr;gap:10px">
      ${card(`<div class="sm" style="font-weight:700">← Back</div>`,"padding:13px;text-align:center;cursor:pointer")}
      ${card(`<div style="font-size:12px;font-weight:700;color:#fff">Next step →</div>`,`padding:13px;text-align:center;cursor:pointer;background:${C.green.b}`)}
    </div>
  </div>`;
}

function renderProphetStories(){
  const ps=[{name:"Adam",ar:"آدم",role:"The First Human",c:C.green},{name:"Nuh",ar:"نوح",role:"The Patient One",c:C.slate},{name:"Ibrahim",ar:"إبراهيم",role:"Friend of Allah",c:C.amber},{name:"Musa",ar:"موسى",role:"The Spoken To",c:C.plum},{name:"Isa",ar:"عيسى",role:"The Word of Allah",c:C.rose},{name:"Muhammad ﷺ",ar:"محمد",role:"Seal of the Prophets",c:C.sage}];
  return `<div class="scr" style="padding:20px 18px">
    <div class="cap" style="margin-bottom:6px">Stories</div><div class="h1" style="margin-bottom:20px">The Prophets</div>
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px">
      ${ps.map(p=>card(`<div style="width:40px;height:40px;border-radius:14px;background:${p.c.l};display:flex;align-items:center;justify-content:center;font-family:serif;font-size:20px;color:${p.c.b};margin-bottom:10px">${p.ar[0]}</div>
        <div class="h3" style="font-size:14px;margin-bottom:2px">${p.name}</div><div style="font-family:serif;font-size:14px;color:${p.c.b};margin-bottom:4px">${p.ar}</div>
        <div class="sm" style="font-size:10px;margin-bottom:10px">${p.role}</div><div class="sm" style="color:${p.c.b};font-weight:700;cursor:pointer">Read story →</div>`,"padding:16px 14px")).join("")}
    </div>
  </div>`;
}

function renderStoryReader(){
  const pages=["Long ago, Allah created the first human — Adam ﷺ — from clay. Allah breathed life into him, and Adam opened his eyes to a world he had never seen before.","Allah taught Adam the names of every single thing in creation. The angels were amazed.","Adam was placed in a beautiful garden, given everything he needed."];
  return `<div class="scr" style="padding:0">
    <div style="background:${C.ink};padding:20px 18px 24px"><div class="cap" style="color:rgba(255,255,255,.4);margin-bottom:6px">Prophet Adam ﷺ</div><div class="h1" style="color:#fff;margin-bottom:2px">The Beginning</div><div class="sm" style="color:rgba(255,255,255,.4)">Page 1 of ${pages.length}</div></div>
    <div style="padding:20px 18px">
      ${card(`<div style="font-size:14px;line-height:1.8;font-weight:500">${pages[0]}</div>`,"padding:24px 20px;margin-bottom:14px")}
      <div style="display:flex;gap:6px;justify-content:center;margin-bottom:16px">${pages.map((_,i)=>`<div style="width:${i===0?24:8}px;height:8px;border-radius:4px;background:${i===0?C.amber.b:C.border};transition:width .25s"></div>`).join("")}</div>
      <div style="display:grid;grid-template-columns:1fr 1fr 2fr;gap:8px">
        ${card(`<div class="sm" style="font-weight:700">← Prev</div>`,"padding:12px;text-align:center;cursor:pointer")}
        ${card(`<div class="sm" style="color:${C.amber.b};font-weight:700">Listen</div>`,`padding:12px;text-align:center;cursor:pointer;background:${C.amber.l}`)}
        ${card(`<div style="font-size:12px;font-weight:700;color:#fff">Next page →</div>`,`padding:12px;text-align:center;cursor:pointer;background:${C.amber.b}`)}
      </div>
    </div>
  </div>`;
}

function renderValues(){
  const vs=[{name:"Honesty",ar:"الصدق",desc:"Truth in words and deeds",c:C.green},{name:"Patience",ar:"الصبر",desc:"Steadfastness with gratitude",c:C.slate},{name:"Kindness",ar:"الرحمة",desc:"Gentleness toward all creation",c:C.rose},{name:"Gratitude",ar:"الشكر",desc:"Say Alhamdulillah always",c:C.amber},{name:"Generosity",ar:"الكرم",desc:"Giving from what you love",c:C.sage}];
  return `<div class="scr" style="padding:20px 18px">
    <div class="cap" style="margin-bottom:6px">Values · Akhlaq</div><div class="h1" style="margin-bottom:4px">Good Character</div><div class="body-t" style="margin-bottom:20px">The Prophet ﷺ had the most beautiful character</div>
    ${vs.map(v=>card(`<div style="display:flex;align-items:center;gap:14px">
      <div style="width:44px;height:44px;border-radius:14px;background:${v.c.l};display:flex;align-items:center;justify-content:center;font-family:serif;font-size:18px;color:${v.c.b};flex-shrink:0">${v.ar[0]}</div>
      <div style="flex:1"><div class="h3" style="font-size:14px;margin-bottom:2px">${v.name} <span style="font-family:serif;font-weight:400;color:${v.c.b}">${v.ar}</span></div><div class="sm">${v.desc}</div></div>
      <div class="sm" style="color:${v.c.b};font-weight:700;cursor:pointer">Story</div></div>`,"padding:14px 16px;margin-bottom:8px")).join("")}
  </div>`;
}

function renderSeerah(){
  const events=[{year:"570 CE",title:"Year of the Elephant",desc:"The Prophet ﷺ is born in Makkah",c:C.amber},{year:"610 CE",title:"First Revelation",desc:"Jibreel ﷺ brings the first verses in the Cave of Hira",c:C.plum},{year:"622 CE",title:"The Hijrah",desc:"Migration from Makkah to Madinah",c:C.green},{year:"630 CE",title:"Conquest of Makkah",desc:"Peaceful return; 10,000 companions",c:C.slate},{year:"632 CE",title:"Farewell Sermon",desc:"The Prophet's ﷺ final message",c:C.rose}];
  return `<div class="scr" style="padding:20px 18px">
    <div class="cap" style="margin-bottom:6px">Seerah · Timeline</div><div class="h1" style="margin-bottom:20px">Life of the Prophet ﷺ</div>
    <div style="position:relative"><div style="position:absolute;left:17px;top:8px;bottom:8px;width:1.5px;background:var(--border)"></div>
    ${events.map(e=>`<div style="display:flex;gap:16px;margin-bottom:14px;position:relative">
      <div style="width:36px;height:36px;border-radius:50%;background:${e.c.l};border:1.5px solid ${e.c.b};display:flex;align-items:center;justify-content:center;flex-shrink:0;z-index:1"><div style="width:8px;height:8px;border-radius:50%;background:${e.c.b}"></div></div>
      ${card(`<div class="cap" style="color:${e.c.b};margin-bottom:4px">${e.year}</div><div class="h3" style="font-size:13px;margin-bottom:3px">${e.title}</div><div class="sm">${e.desc}</div>`,"flex:1;padding:12px 14px")}
    </div>`).join("")}</div>
  </div>`;
}

function renderNinetyNineNames(){
  const names=[{n:1,ar:"الرَّحْمَن",en:"Ar-Rahman",m:"The Most Gracious",c:C.green},{n:2,ar:"الرَّحِيم",en:"Ar-Raheem",m:"The Most Merciful",c:C.plum},{n:3,ar:"الْمَلِك",en:"Al-Malik",m:"The King",c:C.amber},{n:4,ar:"الْقُدُّوس",en:"Al-Quddus",m:"The Most Holy",c:C.rose},{n:5,ar:"السَّلَام",en:"As-Salam",m:"The Source of Peace",c:C.slate}];
  return `<div class="scr" style="padding:20px 18px">
    <div class="cap" style="margin-bottom:6px">Discover</div><div class="h1" style="margin-bottom:4px">99 Names of Allah</div><div style="font-family:serif;font-size:18px;color:${C.plum.b};margin-bottom:20px">الأسماء الحسنى</div>
    ${card(`<div style="font-family:serif;font-size:40px;color:#fff;margin-bottom:8px">اللَّه</div><div class="cap" style="color:rgba(255,255,255,.4);margin-bottom:12px">Allah · The One God</div>
      <div style="background:rgba(255,255,255,.08);border-radius:100px;padding:6px 18px;display:inline-block;font-size:11px;font-weight:500;color:rgba(255,255,255,.5)">5 of 99 learned</div>`,`padding:20px;text-align:center;margin-bottom:20px;background:${C.ink}`)}
    ${names.map(nm=>card(`<div style="display:flex;align-items:center;gap:14px">
      <div style="width:32px;height:32px;border-radius:10px;background:${nm.c.l};display:flex;align-items:center;justify-content:center;font-size:10px;font-weight:700;color:${nm.c.b}">${nm.n}</div>
      <div style="flex:1"><div style="font-family:serif;font-size:18px;color:${nm.c.b};margin-bottom:2px">${nm.ar}</div><div class="h3" style="font-size:13px">${nm.en}</div><div class="sm">${nm.m}</div></div>
      <svg width="18" height="18" viewBox="0 0 18 18"><circle cx="9" cy="9" r="8" fill="${nm.c.l}" stroke="${nm.c.b}" stroke-width="1.5"/><path d="M5.5 9.5L8 12L12.5 7" stroke="${nm.c.b}" stroke-width="1.5" stroke-linecap="round" fill="none"/></svg></div>`,"padding:14px 16px;margin-bottom:8px")).join("")}
  </div>`;
}

function renderPrayerTimes(){
  const prayers=[{name:"Fajr",ar:"الفجر",time:"5:42 AM",done:true},{name:"Dhuhr",ar:"الظهر",time:"12:30 PM",done:true},{name:"Asr",ar:"العصر",time:"3:48 PM",cur:true,done:false},{name:"Maghrib",ar:"المغرب",time:"6:15 PM",done:false},{name:"Isha",ar:"العشاء",time:"7:45 PM",done:false}];
  return `<div class="scr" style="padding:20px 18px">
    <div class="cap" style="margin-bottom:20px">Prayer times · London</div>
    ${card(`<div class="cap" style="color:rgba(255,255,255,.5);margin-bottom:6px">Now · Asr time</div><div class="h1" style="color:#fff;margin-bottom:2px">3:48 PM</div><div class="sm" style="color:rgba(255,255,255,.6)">Maghrib in 2 hours 27 minutes</div>
      <div style="height:4px;background:rgba(255,255,255,.15);border-radius:4px;margin-top:16px"><div style="height:100%;width:58%;background:rgba(255,255,255,.7);border-radius:4px"></div></div>`,`padding:20px 18px;margin-bottom:20px;background:${C.slate.b}`)}
    ${prayers.map(p=>card(`<div style="display:flex;align-items:center;gap:14px">
      <div style="flex:1"><div class="h3" style="font-size:14px;color:${p.cur?C.slate.d:C.ink}">${p.name} <span style="font-family:serif;font-size:14px;font-weight:400;color:var(--mute)">${p.ar}</span></div></div>
      <div class="sm" style="margin-right:8px">${p.time}</div>
      <div style="width:24px;height:24px;border-radius:50%;background:${p.done?C.green.b:p.cur?C.slate.b:C.border};display:flex;align-items:center;justify-content:center">${p.done||p.cur?`<svg width="10" height="10" viewBox="0 0 10 10"><path d="${p.done?"M2 5.5L4.2 7.5L8 3":"M5 2v3l2 2"}" stroke="white" stroke-width="1.8" stroke-linecap="round" fill="none"/></svg>`:""}</div></div>`,
      `padding:13px 16px;margin-bottom:8px;background:${p.cur?C.slate.l:C.card};${p.cur?"border:1.5px solid "+C.slate.b+"20":""}`)).join("")}
  </div>`;
}

function renderHadith(){
  return `<div class="scr" style="padding:20px 18px">
    <div class="cap" style="margin-bottom:6px">Hadith of the day</div><div class="h1" style="margin-bottom:20px">Today's Wisdom</div>
    ${card(`<div style="text-align:right;font-family:serif;font-size:22px;color:#fff;line-height:1.9;margin-bottom:16px">إِنَّمَا الأَعْمَالُ بِالنِّيَّاتِ</div>
      <div style="height:1px;background:rgba(255,255,255,.1);margin-bottom:14px"></div>
      <div style="font-size:14px;font-style:italic;color:rgba(255,255,255,.7);line-height:1.7;margin-bottom:10px">"Actions are judged by intentions, and everyone will get what they intended."</div>
      <div class="cap" style="color:rgba(255,255,255,.3)">Sahih al-Bukhari · Hadith 1</div>`,`padding:24px 20px;background:${C.ink};margin-bottom:14px`)}
    ${card(`<div class="cap" style="color:${C.amber.b};margin-bottom:8px">What does this mean?</div>
      <div class="body-t">Before you do anything, check your heart. The Prophet ﷺ taught us that why we do things matters as much as what we do. Even prayer changes value based on your intention.</div>`,"padding:16px 18px;margin-bottom:10px")}
    ${card(`<div class="cap" style="color:${C.amber.d};margin-bottom:6px">Today's challenge</div>
      <div class="body-t" style="color:${C.amber.d}">Before your next action, say Bismillah and set your intention for Allah.</div>`,`padding:14px 16px;background:${C.amber.l};box-shadow:none;border:1px solid ${C.amber.b}30`)}
  </div>`;
}

function renderQuizHome(){
  const cats=[{name:"Arabic Letters",qs:28,c:C.amber},{name:"Quran",qs:50,c:C.green},{name:"Prophets",qs:25,c:C.plum},{name:"Islamic History",qs:40,c:C.rose},{name:"Duas",qs:30,c:C.slate},{name:"Values",qs:20,c:C.sage}];
  return `<div class="scr" style="padding:20px 18px">
    <div class="cap" style="margin-bottom:6px">Quiz arena</div><div class="h1" style="margin-bottom:20px">Choose a quiz</div>
    ${card(`<div style="display:flex;align-items:center;justify-content:space-between">
      <div><div class="cap" style="color:rgba(255,255,255,.6);margin-bottom:6px">Today</div><div style="font-size:16px;font-weight:800;color:#fff">Daily Challenge</div><div class="sm" style="color:rgba(255,255,255,.6);margin-top:2px">10 questions · 100 XP reward</div></div>
      <div style="background:rgba(255,255,255,.2);border-radius:12px;padding:8px 16px;font-size:12px;font-weight:700;color:#fff;cursor:pointer">Play</div></div>`,`padding:16px 18px;margin-bottom:20px;background:${C.rose.b}`)}
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px">
      ${cats.map(c=>card(`<div style="width:8px;height:8px;border-radius:50%;background:${c.c.b};margin-bottom:10px"></div>
        <div class="h3" style="font-size:13px;margin-bottom:2px">${c.name}</div><div class="sm" style="margin-bottom:10px">${c.qs} questions</div>
        <div style="background:${c.c.l};border-radius:10px;padding:7px;text-align:center;font-size:11px;font-weight:700;color:${c.c.b};cursor:pointer">Start</div>`,"padding:14px")).join("")}
    </div>
  </div>`;
}

function renderQuizPlay(){
  const opts=["ب · Ba","ض · Dad","ظ · Dha","ص · Sad"];
  return `<div class="scr" style="padding:20px 18px">
    <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:6px"><div class="sm">Question 3 of 10</div>${pill("250 XP",C.plum)}</div>
    ${bar(30,C.plum.b,4)}<div style="height:20px"></div>
    ${card(`<div class="cap" style="margin-bottom:16px">Which letter makes this sound?</div><div style="font-family:serif;font-size:86px;line-height:1;margin-bottom:10px">ض</div><div class="sm">Daad</div>`,"padding:36px 20px;text-align:center;margin-bottom:20px")}
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:14px">
      ${opts.map((o,i)=>{
        const sel=i===1,correct=true;
        return card(`<div style="font-family:serif;font-size:22px;color:${sel?C.green.d:C.ink};margin-bottom:2px">${o.split("·")[0]}</div><div class="sm" style="font-size:10px">· ${o.split("·")[1]?.trim()}</div>`,
          `padding:18px 14px;text-align:center;cursor:pointer;background:${sel?C.green.l:C.card};border:1.5px solid ${sel?C.green.b:"transparent"}`);
      }).join("")}
    </div>
    ${card(`<div class="h3" style="font-size:13px;color:${C.green.d}">Correct — Masha'Allah!</div>`,`padding:14px 16px;background:${C.green.l};box-shadow:none;text-align:center`)}
  </div>`;
}

function renderLeaderboard(){
  const ps=[{name:"Fatima",xp:4820,streak:21,rank:1},{name:"Ayah-Sophia",xp:3950,streak:14,rank:2,me:true},{name:"Omar",xp:3640,streak:10,rank:3},{name:"Zainab",xp:3200,streak:8,rank:4},{name:"Yusuf",xp:2980,streak:6,rank:5}];
  const pod=[C.plum,C.amber,C.slate];
  return `<div class="scr" style="padding:20px 18px">
    <div class="cap" style="margin-bottom:6px">This week</div><div class="h1" style="margin-bottom:20px">Top Learners</div>
    <div style="display:flex;justify-content:center;gap:10px;margin-bottom:20px;align-items:flex-end">
      ${[ps[1],ps[0],ps[2]].map((p,i)=>`<div style="text-align:center;flex:1"><div class="sm" style="margin-bottom:6px;color:${pod[i].b};font-weight:700">${["2nd","1st","3rd"][i]}</div>
        <div style="background:${pod[i].b};border-radius:12px 12px 0 0;padding:${[16,24,10][i]}px 8px 12px;min-height:${[70,90,56][i]}px"><div class="h3" style="font-size:12px;color:#fff;margin-bottom:2px">${p.name.split("-")[0]}</div><div style="font-size:10px;color:rgba(255,255,255,.65)">${(p.xp/1000).toFixed(1)}k XP</div></div></div>`).join("")}
    </div>
    ${ps.map(p=>card(`<div style="display:flex;align-items:center;gap:12px">
      <div style="width:24px;text-align:center;font-size:10px;font-weight:700;letter-spacing:.12em;color:${p.rank<=3?C.amber.b:C.mute}">${p.rank}</div>
      <div style="flex:1"><div class="h3" style="font-size:13px">${p.name}${p.me?" (you)":""}</div><div class="sm" style="font-size:10px">${p.streak} day streak</div></div>
      <div class="h3" style="font-size:13px;color:${C.plum.b}">${p.xp.toLocaleString()} XP</div></div>`,
      `padding:12px 16px;margin-bottom:8px;background:${p.me?C.plum.l:C.card};${p.me?"border:1.5px solid "+C.plum.b+"30":""}`)).join("")}
  </div>`;
}

function renderAchievements(){
  const badges=[{name:"First Steps",desc:"Complete your first lesson",earned:true,c:C.green,p:100},{name:"Streak Master",desc:"14 day learning streak",earned:true,c:C.amber,p:100},{name:"Quran Star",desc:"Memorise Al-Fatiha",earned:true,c:C.plum,p:100},{name:"Letter Expert",desc:"Learn all 28 Arabic letters",earned:false,c:C.rose,p:71,sub:"20 of 28"},{name:"Quiz Champion",desc:"Score 100% on 5 quizzes",earned:false,c:C.slate,p:60,sub:"3 of 5"},{name:"Story Reader",desc:"Read 10 Prophet stories",earned:false,c:C.sage,p:40,sub:"4 of 10"}];
  return `<div class="scr" style="padding:20px 18px">
    <div class="cap" style="margin-bottom:6px">Profile</div><div class="h1" style="margin-bottom:4px">My Badges</div><div class="body-t" style="margin-bottom:20px">3 of 6 earned</div>
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px">
      ${badges.map(b=>card(`<div style="width:44px;height:44px;border-radius:14px;background:${b.c.l};display:flex;align-items:center;justify-content:center;margin-bottom:10px;border:1.5px solid ${b.earned?b.c.b+"30":C.border}">
        ${b.earned?`<svg width="20" height="20" viewBox="0 0 20 20"><circle cx="10" cy="10" r="9" fill="${b.c.l}" stroke="${b.c.b}" stroke-width="1.5"/><path d="M6 10.5L9 13.5L14 8" stroke="${b.c.b}" stroke-width="2" stroke-linecap="round" fill="none"/></svg>`:`<div style="width:8px;height:8px;border-radius:50%;background:var(--border)"></div>`}</div>
        <div class="h3" style="font-size:12px;margin-bottom:2px">${b.name}</div><div class="sm" style="font-size:10px;margin-bottom:${b.earned?0:8}px">${b.desc}</div>
        ${!b.earned?bar(b.p,b.c.b)+`<div class="sm" style="font-size:9px;margin-top:4px">${b.sub}</div>`:""}
        ${b.earned?`<div class="sm" style="color:${b.c.b};font-weight:700;margin-top:6px;font-size:10px">Earned ✓</div>`:""}`,`padding:16px 14px;opacity:${b.earned?1:.75}`)).join("")}
    </div>
  </div>`;
}

function renderProfile(){
  return `<div class="scr" style="padding:20px 18px">
    <div style="text-align:center;margin-bottom:24px">
      <div style="width:80px;height:80px;border-radius:28px;background:var(--ink);display:flex;align-items:center;justify-content:center;margin:0 auto 14px;font-size:36px;font-family:serif;color:rgba(255,255,255,.9)">A</div>
      <div class="h2" style="margin-bottom:4px">Ayah-Sophia</div><div class="sm" style="margin-bottom:12px">Level 7 · Islamic Scholar in Training</div>
      <div style="display:flex;justify-content:center;gap:8px;flex-wrap:wrap">${["14 day streak","3,950 XP","3 Surahs"].map(s=>`<div style="background:var(--card);border-radius:100px;padding:5px 10px;font-size:10px;font-weight:700;color:var(--mute);box-shadow:0 1px 3px rgba(0,0,0,.07)">${s}</div>`).join("")}</div>
    </div>
    ${card(`<div style="display:flex;justify-content:space-between;margin-bottom:8px"><div class="sm" style="font-weight:700">Progress to Level 8</div><div class="sm">3,950 / 4,500 XP</div></div>${bar(65,C.plum.b,6)}`,"padding:16px 18px;margin-bottom:14px")}
    ${[{l:"My Achievements",s:"3 badges earned"},{l:"Learning Stats",s:"42 lessons completed"},{l:"Daily Reminders",s:"4:00 PM · Active"},{l:"Parent Dashboard",s:"Progress & controls"}].map(item=>card(`<div style="display:flex;align-items:center;gap:14px">
      <div style="flex:1"><div class="h3" style="font-size:14px">${item.l}</div><div class="sm">${item.s}</div></div>
      <svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M6 4L10 8L6 12" stroke="${C.mute}" stroke-width="1.5" stroke-linecap="round"/></svg></div>`,"padding:13px 16px;margin-bottom:8px")).join("")}
  </div>`;
}

function renderStreaks(){
  const days=["M","T","W","T","F","S","S"];
  return `<div class="scr" style="padding:20px 18px">
    <div class="cap" style="margin-bottom:6px">Streaks & goals</div><div class="h1" style="margin-bottom:20px">Keep it going</div>
    ${card(`<div class="cap" style="margin-bottom:8px;text-align:center">Current streak</div>
      <div style="font-size:56px;font-weight:900;color:${C.amber.b};line-height:1;margin-bottom:4px;text-align:center;letter-spacing:-.03em">14</div>
      <div class="body-t" style="margin-bottom:12px;text-align:center">days · Personal best: 21</div>
      <div style="height:1px;background:var(--border)"></div>
      <div style="display:grid;grid-template-columns:repeat(7,1fr);gap:4px;margin-top:16px">
        ${days.map(d=>`<div class="cap" style="font-size:8px;text-align:center">${d}</div>`).join("")}
        ${[...Array(28)].map((_,i)=>`<div style="aspect-ratio:1;border-radius:6px;background:${i<14?(i===13?C.amber.b:C.amber.l):C.faint};display:flex;align-items:center;justify-content:center">${i<14?`<svg width="8" height="8" viewBox="0 0 8 8"><path d="M1.5 4.2L3.2 6L6.5 2.5" stroke="${i===13?"white":C.amber.b}" stroke-width="1.5" stroke-linecap="round" fill="none"/></svg>`:""}</div>`).join("")}
      </div>`,"padding:20px 18px;text-align:center;margin-bottom:16px")}
    <div class="cap" style="margin-bottom:10px">Today's goals</div>
    ${["Complete 1 Arabic lesson","Read 1 page of Quran","Learn 3 new words","Practice a Dua"].map((g,i)=>card(`<div style="display:flex;align-items:center;gap:12px">
      <div style="width:22px;height:22px;border-radius:50%;border:1.5px solid ${i<2?C.green.b:C.border};background:${i<2?C.green.b:"transparent"};display:flex;align-items:center;justify-content:center;flex-shrink:0">${i<2?`<svg width="10" height="10" viewBox="0 0 10 10"><path d="M2 5.5L4.2 7.5L8 3" stroke="white" stroke-width="1.8" stroke-linecap="round" fill="none"/></svg>`:""}</div>
      <div class="h3" style="font-size:13px;${i<2?"color:var(--mute);text-decoration:line-through":""}">${g}</div></div>`,"padding:12px 16px;margin-bottom:8px")).join("")}
  </div>`;
}

function renderSettings(){
  const sections=[{section:"Learning preferences",rows:[{l:"Daily reminders",s:"Notified at 4:00 PM",t:true},{l:"Sound effects",s:"Sounds during lessons",t:true},{l:"Arabic keyboard",s:"Show Arabic input",t:true}]},{section:"Account",rows:[{l:"My progress",s:"Detailed stats"},{l:"Parent mode",s:"Controls & reports"},{l:"Language",s:"English"}]}];
  return `<div class="scr" style="padding:20px 18px">
    <div class="h1" style="margin-bottom:24px">Settings</div>
    ${sections.map(sec=>`<div style="margin-bottom:20px"><div class="cap" style="margin-bottom:10px">${sec.section}</div>
      ${card(sec.rows.map((row,ri)=>`<div style="padding:14px 16px;display:flex;align-items:center;gap:12px;${ri<sec.rows.length-1?"border-bottom:1px solid var(--faint)":""}">
        <div style="flex:1"><div class="h3" style="font-size:13px">${row.l}</div><div class="sm">${row.s}</div></div>
        ${row.t?`<div style="width:44px;height:26px;border-radius:13px;background:${C.green.b};position:relative;cursor:pointer"><div style="width:20px;height:20px;border-radius:50%;background:#fff;position:absolute;top:3px;left:21px;box-shadow:0 1px 3px rgba(0,0,0,.2)"></div></div>`
        :`<svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M6 4L10 8L6 12" stroke="${C.mute}" stroke-width="1.5" stroke-linecap="round"/></svg>`}
      </div>`).join(""))}</div>`).join("")}
  </div>`;
}

// ─── INIT ───────────────────────────────────────────────────────────────
buildNav();
renderMain();
</script>
</body>
</html>
